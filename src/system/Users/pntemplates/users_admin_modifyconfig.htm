<!--[*  $config.Id: users_admin_modifyconfig.htm,v 1.10 2006/03/29 14:01:01 markwest Exp $config.  *]-->
<!--[pnajaxheader modname='Users' filename='users_admin_modifyconfig.js' nobehaviour=true noscriptaculous=true effects=true]-->

<!--[include file='users_admin_menu.htm']-->

<div class="z-admincontainer">
    <div class="z-adminpageicon"><!--[pnimg modname=core src=configure.gif set=icons/large __alt='Settings']--></div>

    <h2><!--[gt text="Settings"]--></h2>

    <form class="z-form" action="<!--[pnmodurl modname='Users' type='admin' func='updateconfig']-->" method="post">
        <fieldset>
            <legend><!--[gt text="General settings"]--></legend>
            <div class="z-formrow">
                <label for="users_userimg"><!--[gt text="Path to account panel images"]--></label>
                <input id="users_userimg" type="text" name="config[userimg]" value="<!--[$config.userimg|pnvarprepfordisplay]-->" size="50" maxlength="255" />
            </div>
            <div class="z-formrow">
                <label for="users_avatarpath"><!--[gt text="Path to user's avatar images"]--></label>
                <input id="users_avatarpath" type="text" name="config[avatarpath]" value="<!--[$config.avatarpath|default:'images/avatar'|pnvarprepfordisplay]-->" size="50" maxlength="255" />
            </div>
            <div class="z-formrow">
                <label for="users_itemsperpage"><!--[gt text="Links per page"]--></label>
                <input id="users_itemsperpage" type="text" name="config[itemsperpage]" size="3" value="<!--[$config.itemsperpage|pnvarprepfordisplay]-->" />
            </div>
            <div class="z-formrow">
                <label for="users_minage"><!--[gt text="Minimum age for new user registration (0 for no age check)"]--></label>
                <input id="users_minage" type="text" name="config[minage]" value="<!--[$config.minage|pnvarprepfordisplay]-->" size="2" maxlength="2" />
            </div>
            <div class="z-formrow">
                <label for="users_minpass"><!--[gt text="Minimum length for user passwords"]--></label>
                <input id="users_minpass" type="text" name="config[minpass]" value="<!--[$config.minpass|pnvarprephtmldisplay]-->" size="2" maxlength="2" />
            </div>
            <div class="z-formrow">
                <label for="anonymous"><!--[gt text="Name for anonymous user"]--></label>
                <input id="anonymous" type="text" name="config[anonymous]" value="<!--[$config.anonymous|pnvarprephtmldisplay]-->" size="20" maxlength="20" />
            </div>
            <div class="z-formrow">
                <label for="users_savelastlogindate"><!--[gt text="Store user's last log-in date in database"]--></label>
                <div id="users_savelastlogindate">
                    <input id="savelastlogindateyes" type="radio" name="config[savelastlogindate]" value="1" <!--[if $config.savelastlogindate eq 1]-->checked="checked" <!--[/if]-->/>
                    <label for="savelastlogindateyes"><!--[gt text="Yes"]--></label>
                    <input id="savelastlogindateno" type="radio" name="config[savelastlogindate]" value="0" <!--[if $config.savelastlogindate neq 1]-->checked="checked" <!--[/if]-->/>
                    <label for="savelastlogindateno"><!--[gt text="No"]--></label>
                </div>
            </div>
            <div class="z-formrow">
                <label for="users_loginviaoption"><!--[gt text="Credential required for user log-in"]--></label>
                <div id="users_loginviaoption">
                    <input id="users_loginviausername" type="radio" name="config[loginviaoption]" value="0" <!--[if $config.loginviaoption eq 0]-->checked="checked" <!--[/if]-->/>
                    <label for="users_loginviausername"><!--[gt text="User name"]--></label>
                    <input id="users_loginviaemail" type="radio" name="config[loginviaoption]" value="1" <!--[if $config.loginviaoption neq 0]-->checked="checked" <!--[/if]-->/>
                    <label for="users_loginviaemail"><!--[gt text="E-mail address"]--></label>
                    <div class="z-formnote z-warningmsg"><!--[gt text="Notice: If the 'Credential required for user log-in' is set to 'E-mail address', then the 'Each e-mail address only registered once' option below must be set to 'Yes'."]--></div>
                </div>
            </div>
            <div class="z-formrow">
                <label for="hash_method"><!--[gt text="Password hashing method (default: SHA256)"]--></label>
                <select id="hash_method" name="config[hash_method]">
                    <option value="md5" <!--[if $config.hash_method eq 'md5']--> selected="selected"<!--[/if]-->>MD5</option>
                    <option value="sha1" <!--[if $config.hash_method eq 'sha1']--> selected="selected"<!--[/if]-->>SHA1</option>
                    <option value="sha256" <!--[if $config.hash_method eq 'sha256']--> selected="selected"<!--[/if]-->>SHA256</option>
                </select>
            </div>
        </fieldset>

        <fieldset>
            <legend><!--[gt text="User account settings"]--></legend>
            <div class="z-formrow">
                <label for="users_accountdisplaygraphics"><!--[gt text="Display graphics in user's account panel"]--></label>
                <div>
                    <input id="users_accountdisplaygraphics" name="config[accountdisplaygraphics]" type="checkbox" value="1" <!--[if $config.accountdisplaygraphics eq 1]-->checked="checked" <!--[/if]-->/>
                </div>
            </div>
            <div class="z-formrow">
                <label for="users_accountitemsperpage"><!--[gt text="Links per page"]--></label>
                <input id="users_accountitemsperpage" type="text" name="config[accountitemsperpage]" size="3" value="<!--[$config.accountitemsperpage|pnvarprepfordisplay]-->" />
            </div>
            <div class="z-formrow">
                <label for="users_accountitemsperrow"><!--[gt text="Links per row"]--></label>
                <input id="users_accountitemsperrow" type="text" name="config[accountitemsperrow]" size="3" value="<!--[$config.accountitemsperrow|pnvarprepfordisplay]-->" />
            </div>
            <div class="z-formrow">
                <label for="users_changepassword"><!--[gt text="Users module handles password maintenance"]--></label>
                <div id="users_changepassword">
                    <input id="changepasswordyes" type="radio" name="config[changepassword]" value="1" <!--[if $config.changepassword eq 1]--> checked="checked"<!--[/if]--> />
                    <label for="changepasswordyes"><!--[gt text="Yes"]--></label>
                    <input id="changepasswordno" type="radio" name="config[changepassword]" value="0" <!--[if $config.changepassword eq 0]--> checked="checked"<!--[/if]--> />
                    <label for="changepasswordno"><!--[gt text="No"]--></label>
                </div>
            </div>
            <div class="z-formrow">
                <label for="users_changeemail"><!--[gt text="Users module handles e-mail address maintenance"]--></label>
                <div id="users_changeemail">
                    <input id="changeemailyes" type="radio" name="config[changeemail]" value="1" <!--[if $config.changeemail eq 1]--> checked="checked"<!--[/if]--> />
                    <label for="changeemailyes"><!--[gt text="Yes"]--></label>
                    <input id="changeemailno" type="radio" name="config[changeemail]" value="0" <!--[if $config.changeemail eq 0]--> checked="checked"<!--[/if]--> />
                    <label for="changeemailno"><!--[gt text="No"]--></label>
                </div>
            </div>
        </fieldset>

        <fieldset>
            <legend><!--[gt text="User registration"]--></legend>
            <div class="z-formrow">
                <label for="users_lowercaseuname"><!--[gt text="New username in lowercase"]--></label>
                <div id="users_lowercaseuname">
                    <input id="lowercaseunameyes" type="radio" name="config[lowercaseuname]" value="1" <!--[if $config.lowercaseuname eq 1]--> checked="checked"<!--[/if]--> />
                    <label for="lowercaseunameyes"><!--[gt text="Yes"]--></label>
                    <input id="lowercaseunameno" type="radio" name="config[lowercaseuname]" value="0" <!--[if $config.lowercaseuname eq 0]--> checked="checked"<!--[/if]--> />
                    <label for="lowercaseunameno"><!--[gt text="No"]--></label>
                </div>
                <p class="z-formnote z-informationmsg"><!--[gt text="When enabled, if a new user chooses 'MyUserName' as his/her username, it will be stored as 'myusername' in the Zikula database."]--></p>
            </div>
            <div class="z-formrow">
                <label for="users_moderation"><!--[gt text="User registration is moderated"]--></label>
                <div id="users_moderation">
                    <input id="moderationyes" type="radio" name="config[moderation]" value="1" <!--[if $config.moderation eq 1]--> checked="checked"<!--[/if]--> />
                    <label for="moderationyes"><!--[gt text="Yes"]--></label>
                    <input id="moderationno" type="radio" name="config[moderation]" value="0" <!--[if $config.moderation eq 0]--> checked="checked"<!--[/if]--> />
                    <label for="moderationno"><!--[gt text="No"]--></label>
                </div>
            </div>
            <div class="z-formrow">
                <label for="users_reg_uniemail"><!--[gt text="Each e-mail address can only be registered once"]--></label>
                <div id="users_reg_uniemail">
                    <input id="reg_uniemailyes" type="radio" name="config[reg_uniemail]" value="1" <!--[if $config.reg_uniemail eq 1]--> checked="checked"<!--[/if]--> />
                    <label for="reg_uniemailyes"><!--[gt text="Yes"]--></label>
                    <input id="reg_uniemailno" type="radio" name="config[reg_uniemail]" value="0" <!--[if $config.reg_uniemail eq 0]--> checked="checked"<!--[/if]--> />
                    <label for="reg_uniemailno"><!--[gt text="No"]--></label>
                </div>
            </div>
            <div class="z-formrow">
                <label for="users_reg_optitems"><!--[gt text="Show account panel properties"]--></label>
                <div id="users_reg_optitems">
                    <input id="reg_optitemsyes" type="radio" name="config[reg_optitems]" value="1" <!--[if $config.reg_optitems eq 1]--> checked="checked"<!--[/if]--> />
                    <label for="reg_optitemsyes"><!--[gt text="Yes"]--></label>
                    <input id="reg_optitemsno" type="radio" name="config[reg_optitems]" value="0" <!--[if $config.reg_optitems eq 0]--> checked="checked"<!--[/if]--> />
                    <label for="reg_optitemsno"><!--[gt text="No"]--></label>
                </div>
            </div>
            <div class="z-formrow">
                <label for="users_reg_allowreg"><!--[gt text="Allow new user account registrations"]--></label>
                <div id="users_reg_allowreg">
                    <input id="reg_allowregyes" type="radio" name="config[reg_allowreg]" value="1" <!--[if $config.reg_allowreg eq 1]--> checked="checked"<!--[/if]--> />
                    <label for="reg_allowregyes"><!--[gt text="Yes"]--></label>
                    <input id="reg_allowregno" type="radio" name="config[reg_allowreg]" value="0" <!--[if $config.reg_allowreg eq 0]--> checked="checked"<!--[/if]--> />
                    <label for="reg_allowregno"><!--[gt text="No"]--></label>
                </div>
            </div>
            <div class="z-formrow" id="users_reg_allowreg_wrap">
                <label for="users_noregreasons"><!--[gt text="Statement displayed if registration disabled"]--></label>
                <textarea id="users_noregreasons" name="config[reg_noregreasons]" cols="45" rows="10"><!--[$config.reg_noregreasons|pnvarprephtmldisplay]--></textarea>
            </div>
            <div class="z-formrow">
                <label><!--[gt text="Verify e-mail address during registration"]--></label>
                <div class="z-formlist">
                    <input id="reg_verifyemail2" type="radio" name="config[reg_verifyemail]" value="2" <!--[if $config.reg_verifyemail eq 2]--> checked="checked"<!--[/if]--> />
                    <label for="reg_verifyemail2"><!--[gt text="Yes. User chooses password, then activates account via e-mail"]--></label>
                </div>
                <div class="z-formlist">
                    <input id="reg_verifyemail1" type="radio" name="config[reg_verifyemail]" value="1" <!--[if $config.reg_verifyemail eq 1]--> checked="checked"<!--[/if]-->/>
                    <label for="reg_verifyemail1"><!--[gt text="Yes. System-generated password is sent directly to e-mail address"]--></label>
                </div>
                <div class="z-formlist">
                    <input id="reg_verifyemail0" type="radio" name="config[reg_verifyemail]" value="0" <!--[if $config.reg_verifyemail eq 0]--> checked="checked"<!--[/if]-->/>
                    <label for="reg_verifyemail0"><!--[gt text="No"]--></label>
                </div>
            </div>
            <div class="z-formrow">
                <label for="users_reg_Illegalusername"><!--[gt text="Reserved user names (space-separated)"]--></label>
                <input id="users_reg_Illegalusername" type="text" name="config[reg_Illegalusername]" value="<!--[$config.reg_Illegalusername|pnvarprepfordisplay]-->" size="50" maxlength="255" />
            </div>
            <div class="z-formrow">
                <label for="users_reg_notifyemail"><!--[gt text="E-mail address to notify of new user registrations (blank for none)"]--></label>
                <input id="users_reg_notifyemail" type="text" name="config[reg_notifyemail]" value="<!--[$config.reg_notifyemail|pnvarprepfordisplay]-->" size="50" maxlength="255" />
            </div>
            <div class="z-formrow">
                <label for="users_reg_Illegaluseragents"><!--[gt text="Banned user agents (comma-separated)"]--></label>
                <input id="users_reg_Illegaluseragents" type="text" name="config[reg_Illegaluseragents]" value="<!--[$config.reg_Illegaluseragents|pnvarprepfordisplay]-->" size="50" maxlength="255" />
            </div>
            <div class="z-formrow">
                <label for="users_reg_Illegaldomains"><!--[gt text="Banned domains (comma-separated)"]--></label>
                <textarea id="users_reg_Illegaldomains" name="config[reg_Illegaldomains]" cols="45" rows="10"><!--[$config.reg_Illegaldomains|pnvarprephtmldisplay]--></textarea>
            </div>
            <div class="z-formrow">
                <label><!--[gt text="IDN domains"]--></label>
                <div>
                    <input id="idnnamesyes" type="radio" name="config[idnnames]" value="1" <!--[if $config.idnnames eq 1]-->checked="checked" <!--[/if]-->/>
                    <label for="idnnamesyes"><!--[gt text="Yes"]--></label>
                    <input id="idnnamesno" type="radio" name="config[idnnames]" value="0" <!--[if $config.idnnames neq 1]-->checked="checked" <!--[/if]-->/>
                    <label for="idnnamesno"><!--[gt text="No"]--></label>
                </div>
                <em class="z-formnote"><!--[gt text="Notice: With IDN domains, special characters are allowed in e-mail addresses and URLs."]--></em>
            </div>
            <div class="z-formrow">
                <label for="users_reg_question"><!--[gt text="Spam protection question"]--></label>
                <input id="users_reg_question" name="config[reg_question]" value="<!--[$config.reg_question|pnvarprephtmldisplay]-->" size="50" maxlength="255" />
                <em class="z-formnote"><!--[gt text="Notice: You can set a question to be answered at registration time, to protect the site against spam automated registrations by bots and scripts."]--></em>
            </div>
            <div class="z-formrow">
                <label for="users_reg_answer"><!--[gt text="Spam protection answer"]--></label>
                <input id="users_reg_answer" name="config[reg_answer]" value="<!--[$config.reg_answer|pnvarprephtmldisplay]-->" size="50" maxlength="255" />
                <em class="z-formnote"><!--[gt text="Notice: Registering users will have to provide this response when answering the spam protection question."]--></em>
            </div>
        </fieldset>

        <fieldset>
            <legend><!--[gt text="User log-in settings"]--></legend>
            <div class="z-formrow">
                <label><!--[gt text="WCAG-compliant log-in and log-out"]--></label>
                <div class="z-formlist">
                    <input id="login_redirectyes" type="radio" name="config[login_redirect]" value="1" <!--[if $config.login_redirect eq 1]-->checked="checked" <!--[/if]-->/>
                    <label for="login_redirectyes"><!--[gt text="Yes"]--></label>
                </div>
                <div class="z-formlist">
                    <input id="login_redirectno" type="radio" name="config[login_redirect]" value="0" <!--[if $config.login_redirect neq 1]-->checked="checked" <!--[/if]-->/>
                    <label for="login_redirectno"><!--[gt text="No"]--></label>
                    <em><!--[gt text="Notice: Uses meta refresh."]--></em>
                </div>
            </div>
        </fieldset>

        <!--[pnmodcallhooks hookobject=module hookaction=modifyconfig module=Users]-->

        <div class="z-formbuttons">
            <!--[pnbutton src=button_ok.gif set=icons/small __alt="Save" __title="Save"]-->
            <a href="<!--[pnmodurl modname=Users type=admin func=view]-->"><!--[pnimg modname=core src=button_cancel.gif set=icons/small __alt="Cancel" __title="Cancel"]--></a>
        </div>
    </form>
</div>
